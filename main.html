<!DOCTYPE html>

<html>










  <head>
    <title>Lab2</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

   <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>


   <script src="https://cdnjs.cloudflare.com/ajax/libs/OverlappingMarkerSpiderfier-Leaflet/0.2.6/oms.min.js"></script>

   <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css">

   <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>

   <script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>

   <link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />

  </head>

  <body>
    <div id="mapid" style="width: 1600px; height: 800px;"></div>



    <button onclick="myFunction()">AddLayer</button>

    <button onclick="myFunction2()">Back</button>

    <script>

    var mymap = L.map('mapid').setView([51.0447,-114.0719], 12);


    //add the basemap
    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
      maxZoom: 18,
      attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
      id: 'mapbox/streets-v11',
      tileSize: 512,
      zoomOffset: -1
    }).addTo(mymap);









    function myFunction(){


      //remove all the previous layers on the map
      mymap.eachLayer(function (layer){
        mymap.removeLayer(layer);
      });

      L.mapbox.accessToken = 'pk.eyJ1IjoiemVsaW56aG91IiwiYSI6ImNrbTJqYm5rMzI2cHoybnA4Zzkxb3E0ZW4ifQ.u74Gw4JrM_kb0di2pEmmdg';

    L.mapbox.styleLayer('mapbox://styles/zelinzhou/ckm2jh0ht5dwa17lkj0xixn92').addTo(mymap);




    }





    //when user click on myFunction2, it will remove all the layers and attach the original base map
    function myFunction2(){

      mymap.eachLayer(function (layer){
        mymap.removeLayer(layer);
      });
      //add the basemap
      L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
          'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1
      }).addTo(mymap);



    }







































    </script>

  </body>








</html>
